!function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FailedToConvergeError=e.IsNanError=void 0;const r=require("bignumber.js");e.IsNanError=TypeError("resulted in NaN"),e.FailedToConvergeError=Error("failed to converge");e.default=({fn:n,fnParams:a,percentTolerance:o,maxIterations:i,maxStep:s,goal:t,independentVariableIdx:l})=>{let u,d,f,g,m;const p=o.div(new r.default(100)).times(t);for(let o=0;o<i;o++){if(d=n.apply(null,a).minus(t),d.isNaN())throw e.IsNanError;if(d.abs().lte(p.abs()))return a[l];if(g=a[l],m=g.plus(d),m.minus(g).abs().gt(s)&&(m=m.gt(g)?g.plus(s):g.minus(s)),a[l]=m,f=n.apply(null,a).minus(t),f.isNaN())throw e.IsNanError;u=f.minus(d).div(d),u.eq(new r.default("0"))&&(u=new r.default("0.0001")),m=g.minus(d.div(u)),s&&m.minus(g).abs().gt(s)&&(m=m.gt(g)?g.plus(s):g.minus(s)),a[l]=m}throw e.FailedToConvergeError}}("undefined"==typeof goalSeeker?goalSeeker={}:goalSeeker);